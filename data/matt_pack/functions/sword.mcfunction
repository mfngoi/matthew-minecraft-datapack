####Holds Enchant Progression for Sharpness, Fire Aspect, Knockback, Looting, Sweeping Edge

####Sharpness VI
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:1b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:6s}]}}}

####Sharpness VII
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:2b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:6s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:7s}]}}}

####Sharpness VIII
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:3b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:7s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:8s}]}}}

####Sharpness IX
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:4b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:8s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:9s}]}}}

####Sharpness X
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:5b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:9s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:10s}]}}}

####Fire Aspect III
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:1b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:fire_aspect",lvl:2s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:fire_aspect",lvl:2s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:3s}]}}}

####Knockback III
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:1b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:knockback",lvl:2s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:knockback",lvl:2s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:knockback",lvl:3s}]}}}

####Looting IV
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:1b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:looting",lvl:3s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:looting",lvl:3s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:looting",lvl:4s}]}}}

####Looting V
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:2b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:looting",lvl:3s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:looting",lvl:4s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:looting",lvl:5s}]}}}

####Sweeping Edge IV
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:1b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sweeping_edge",lvl:3s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sweeping_edge",lvl:3s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sweeping_edge",lvl:4s}]}}}

####Sweeping Edge V
execute as @e[type=armor_stand,tag=Factory] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},distance=0..10] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:2b}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sweeping_edge",lvl:3s}]}}},limit=1,sort=nearest,distance=0..1] at @s run execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sweeping_edge",lvl:4s}]}}},limit=1,sort=nearest,distance=0..1] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sweeping_edge",lvl:5s}]}}}

####Shared Ending Code
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},sort=nearest,limit=1]

execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sharpness",lvl:5s}]}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:fire_aspect",lvl:2s}]}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:knockback",lvl:2s}]}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:looting",lvl:3s}]}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:enchanted_book",Count:1b,tag:{StoredEnchantments:[{id:"minecraft:sweeping_edge",lvl:3s}]}}},sort=nearest,limit=1]

execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:1b}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:2b}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:3b}}},sort=nearest,limit=1]
execute as @e[tag=fresh_craft] at @s run kill @e[type=item,nbt={Item:{id:"minecraft:diamond",Count:1b,tag:{componentLvl:4b}}},sort=nearest,limit=1]

function matt_pack:fresh_craft_end

#give DisgruntledEgg diamond_sword{Enchantments:[{id:"minecraft:sharpness",lvl:5s},{id:"minecraft:unbreaking",lvl:3s},{id:"minecraft:mending",lvl:1s}],display:{Name:'{"text":"random name"}'}}
#execute as @e[type=item,nbt={Item:{Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:5s}]}}}] at @s run data merge entity @s {Tags:["fresh_craft"]}
#execute as @e[tag=fresh_craft] at @s run data merge entity @s {Tags:["fresh_craft"],Item:{tag:{Enchantments:[{id:"minecraft:sharpness",lvl:6s}]}}}
#execute as @e[tag=fresh_craft] at @s run data modify entity @s Item.tag.Enchantments[{id:"minecraft:sharpness",lvl:5s}] merge value {id:"minecraft:sharpness",lvl:6s}
